<?xml version="1.0" encoding="UTF-8"?>
<!-- Default values for parameters. Do NOT alter this file, use params.local.xml instead -->
<parameters>

	<itop_url>https://localhost/iTop</itop_url>
	<itop_login>admin</itop_login>
	<itop_password>admin</itop_password>
	<itop_token />
	<itop_login_mode />

	<ldapuri>ldaps://ldapserver:689</ldapuri>
	<ldaplogin>CN=ITOP-LDAP,DC=company,DC=com</ldaplogin>
	<ldappassword>password</ldappassword>
	<page_size>500</page_size>

	<!-- Parameters for PC synchronization -->
	<pc_options type="hash">
		<ldapdn>DC=company,DC=com</ldapdn>
		<ldapfilter>(&amp;(objectClass=computer)(!(UserAccountControl:1.2.840.113556.1.4.803:=2)))</ldapfilter>
		<!-- use the value of whenCreated as move2production in iTop -->
		<synchronize_move2production>yes</synchronize_move2production>
		<default_org_id>Demo</default_org_id>
		<default_status>production</default_status>
		<default_type>&lt;NULL&gt;</default_type>
	</pc_options>

	<!-- this mapping is applied to the value from distinguishedName to extract the status of the PC-->
	<status_mapping type="array">
		<pattern>/.*/production</pattern>
	</status_mapping>

	<!-- this mapping is applied to the value from distinguishedName to extract the type of the PC-->
	<type_mapping type="array">
		<pattern>/laptop/laptop</pattern>
		<pattern>/desktop/desktop</pattern>
	</type_mapping>

	<os_family_mapping type="array">
		<!-- Syntax /pattern/replacement where:
      any delimiter can be used (not only /) but the delimiter cannot be present in the "replacement" string
      pattern is a RegExpr pattern
      replacement is a sprintf string in which:
          %1$s will be replaced by the whole matched text,
          %2$s will be replaced by the first match group, if any group is defined in the RegExpr
          %3$s will be replaced by the second matched group, etc...
    -->
		<pattern>/macOS/MacOS</pattern>
		<pattern>/Microsoft Windows/Windows</pattern>
		<pattern>/Windows XP Professional/Windows</pattern>
		<pattern>/Windows 7 (Pro|Enterprise|Business)/Windows</pattern>
		<pattern>/Windows 10 (Pro|Enterprise|Business)/Windows</pattern>
		<pattern>/Windows 11 (Pro|Enterprise|Business)/Windows</pattern>
		<pattern>/.*/%1$s</pattern>
	</os_family_mapping>

	<os_version_mapping type="array">
		<pattern>/5.1 \(2600\)/Windows XP, Service Pack 3</pattern>
		<pattern>/6.1 \(7601\)/Windows 7, Service Pack 1</pattern>
		<pattern>/5.1 \(2600\)/Windows XP, Service Pack 3</pattern>
		<pattern>/6.1 \(7601\)/Windows 7, Service Pack 1</pattern>
		<pattern>/10.0 \(1\d+\)/Windows 10</pattern>
		<pattern>/10.0 \(2\d+\)/Windows 11</pattern>
		<pattern>/.*/%1$s</pattern>
	</os_version_mapping>

	<!--
		Set a non empty (and unique) prefix if you run several instances of the collector against the same iTop Server
		This is the recommended method to collect data from several LDAP servers. (assign a unique prefix to each "source" LDAP server)
		Note: prefix is defined here since json_placeholders (below) can only reference global parameters
	-->
	<prefix></prefix>
	<json_placeholders>
		<prefix>$prefix$</prefix>
		<pcs_data_table>synchro_data_$prefix$ldap_pcs</pcs_data_table>
		<full_load_interval>604800</full_load_interval>		<!-- 7 days (in seconds): 7*24*60*60 -->
		<synchro_status>production</synchro_status>
		<delete_policy>update</delete_policy>
		<delete_policy_update>status:obsolete</delete_policy_update>
		<user_delete_policy>administrators</user_delete_policy>
	</json_placeholders>
</parameters>
